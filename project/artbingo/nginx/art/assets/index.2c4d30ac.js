var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,s=(e,s)=>{for(var n in s||(s={}))a.call(s,n)&&i(e,n,s[n]);if(t)for(var n of t(s))l.call(s,n)&&i(e,n,s[n]);return e};import{d as n,P as o,O as r,o as c,e as u,y as d,aa as p,g as f,E as A,ab as m,ac as v,I as b,ad as y,v as w,x as h,r as k,z as I,i as g,t as B,B as C,ae as S,N as T,p as x,_ as D,m as R,A as O,F as P}from"./vendor.8ea4918e.js";import{c as U,o as Q,s as F,j as H}from"./index.6e27ae11.js";import{_ as Y,b as j,c as E}from"./Favour.7c684db9.js";import{_ as M,a as J}from"./NFTImage.bf1012b6.js";import{_ as N}from"./QRcode.2457b6c8.js";var q=n({name:"copier",props:{text:{type:String,required:!0,default:""},sucessTip:{type:String}},setup(e){const t=o(),{t:a}=U();return{inputRef:t,handleCopy:()=>{t.value.select(),document.execCommand("copy"),r.success(e.sucessTip||a("sys.copySuccess"))}}}});const G=f("span",null,"复制",-1);q.render=function(e,t,a,l,i,s){return c(),u("a",{style:{overflow:"hidden"},class:"flex items-center ml-5 mr-5 flex-shrink-0",onClick:t[3]||(t[3]=(...t)=>e.handleCopy&&e.handleCopy(...t))},[d(f("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.text=t),type:"text",style:{position:"absolute",right:"-40000px",color:"transparent"},ref:"inputRef",onChange:t[2]||(t[2]=()=>{}),readonly:""},null,544),[[p,e.text]]),A(e.$slots,"default",{},(()=>[G]))])};var W=n({name:"PieceModal",components:{EyeOutlined:m,EyeInvisibleOutlined:v},props:{pieceInfo:{type:Object,require:!0,default:()=>({})}},setup(e){const t=b({visible:!1,isInnerWindow:!1}),a=o(),l=o(!1);return{state:t,showPosition:l,show:()=>{t.visible=!0,y((()=>{var e;t.isInnerWindow=(null==(e=a.value)?void 0:e.clientHeight)<window.innerHeight}))},handleRender:t=>{t.stopPropagation(),(()=>{const t=a.value.querySelector("canvas"),l=a.value.clientWidth,i=a.value.clientHeight;t.width=l,t.height=i;var s=t.getContext("2d");a.value.append(t);const n=a.value.querySelector("img");s.drawImage(n,0,0,l,i),s.fillStyle="rgba(0,0,0,.7)",s.fillRect(0,0,l,i);const{startCoordinate:o,endCoordinate:r,artLength:c}=e.pieceInfo,u=c?l/c:1,[d,p]=o.split(",").map((e=>e*u)),[f,A]=r.split(",").map((e=>e*u));s.beginPath(),s.moveTo(d,p),s.lineTo(f,p),s.lineTo(f,A),s.lineTo(d,A),s.strokeStyle="#ffffff",s.lineWidth=2,s.stroke(),s.clip(),s.drawImage(n,0,0,l,i)})(),l.value=!l.value},containerRef:a}}});const $=C("data-v-ef945922");w("data-v-ef945922");const K={class:"pic relative",ref:"containerRef"};h();const V=$(((e,t,a,l,i,s)=>{const n=k("EyeInvisibleOutlined"),o=k("EyeOutlined"),r=k("a-button"),p=k("popup");return c(),u(p,{visible:e.state.visible,"onUpdate:visible":t[1]||(t[1]=t=>e.state.visible=t),"overlay-class":"overwrite-vant-mask"},{default:$((()=>[f("div",{class:"piece "+(e.state.isInnerWindow?"piece-center":"")},[f("div",K,[d(f("img",{src:e.pieceInfo.activityImage,alt:"nft"},null,8,["src"]),[[I,!e.showPosition]]),d(f("canvas",null,null,512),[[I,e.showPosition]])],512),f(r,{round:"",class:"positionButton",onClick:e.handleRender},{icon:$((()=>[e.showPosition?(c(),u(n,{key:0,class:"align-baseline"})):(c(),u(o,{key:1,class:"align-baseline"}))])),default:$((()=>[g(" "+B(e.showPosition?e.$t("market.detailHidePosition"):e.$t("market.detailShowPosition")),1)])),_:1},8,["onClick"])],2)])),_:1},8,["visible"])}));W.render=V,W.__scopeId="data-v-ef945922";var Z=n({name:"registerSuccess",props:["visible","isOwner"],setup:(e,{emit:t})=>({close:()=>{t("update:visible",!1)}})});const X=C("data-v-e2de694e");w("data-v-e2de694e");const L={class:"title"},z={class:"cont text-center m-auto"},_={class:"mb-20"};h();const ee=X(((e,t,a,l,i,s)=>{const n=k("a-button"),o=k("modal");return c(),u(o,{visible:e.visible,hideClose:!0},{title:X((()=>[f("div",L,[f("h3",null,B(e.isOwner?e.$t("market.saleTip1"):e.$t("market.buyTip1")),1),f("h3",null,B(e.isOwner?e.$t("market.saleTip2"):e.$t("market.buyTip2")),1)])])),footer:X((()=>[f(n,{shape:"round",onClick:e.close,class:"w-full",type:"primary"},{default:X((()=>[g(B(e.$t("market.buyConfirm")),1)])),_:1},8,["onClick"])])),default:X((()=>[f("div",z,[f("img",{class:"w-full mb-20",src:e.$t("images.QR")},null,8,["src"]),f("p",_,B(e.$t("market.contactTip")),1)])])),_:1},8,["visible"])}));Z.render=ee,Z.__scopeId="data-v-e2de694e";var te=n({components:{Favour:Y,Copier:q,PieceModal:W,NFTImage:M,QRcode:N,BuyModal:Z,Image:S},setup(){const e=T(),t=b({nftDetail:{},pieceInfo:{},isBuyVisible:!1,isHide:!0,introduction:""}),a=o(),l=x(F);return D((()=>{j(e.params.marketId).then((e=>{t.nftDetail=e,t.introduction=e.introduction}))})),{state:t,pieceRef:a,isPiece:R((()=>t.nftDetail.imgType===H)),isOwner:R((()=>{var e;return(null==(e=l.state.user)?void 0:e.accountId)===t.nftDetail.ownerId})),handleShowFull:()=>{E(t.nftDetail.fragmentId).then((e=>{t.pieceInfo=s(s({},t.nftDetail),e),a.value.show()}))},fullPath:window.location.href,linkToBcs:e=>{Q(e)},handleShowByModal:()=>{t.isBuyVisible=!0},changeHide:()=>{t.isHide=!t.isHide}}}});const ae=C("data-v-5a76cc72");w("data-v-5a76cc72");const le={class:"detail-img w-full sm:w-3/5 mb-30"},ie={class:"detail-img-container relative"},se={key:2,class:"cover absolute inset-0"},ne={key:3,class:"cont absolute top-1/2 left-1/2 back-to-center"},oe=f("img",{src:J,alt:"frame",class:"absolute inset-0 pointer-events-none"},null,-1),re={class:"w-full sm:w-2/5 sm:pl-64"},ce={class:"break-all"},ue={class:"font-bold"},de={class:"price"},pe=f("span",null,"USDT",-1),fe={class:"flex items-center"},Ae={class:"buy"},me=f("span",{class:"division mr-20 hidden lg:block"},null,-1),ve={class:"share relative hidden lg:block"},be=f("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAwCAYAAAB0WahSAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGtSURBVHgB7ZlBTsJAFIb/GStuYYkaIzeAG3gEbqDeoGyIS9yZuhBPgN4Ab+AN9Aawoku6MxDTcdpuyBQ6M28qEjNfQkMeTN9HeW/SlzK4EA+vITCW7xJ8Y4CLaAoiDFQKiRflbDdoR68gQBPZJuEoYy9SJeEgYydiIkGUMRexkSDImIlQJCxl9CIuEhYyHDoERnCl2GvgJgI04U6i+4JeJBUDeZyDTrHraqBtaLOwiZPGcutnq3ULnbH2CtQjkrEYiq3x04h0TpMa2QtBfozDS+B4AsG62F2cify1LdiwGC5RVewcU3ytB/KvnAe5hGh8QN8dlO6pXpOiL2vtStZcj0uJJ9TTolRk4R9PshrpGy6w7gTzNawblGIr3kHnYY462FVT8Z0sh3S2EWmWu6YuiSra5RwH077/QiQxjBlBFxF4LsVSQbqDdxM5i0YycSaT5C+Be5w/hiASwIUiMTn5Jr5rVLyIihdR8SIqXkTFi6h4ERUvonLAIrNsIP9l4nIOpp3Y94S8IuITfw5742BHt3CYR2ogwYqFPJ9DGe/JAPkRB1kA4l0O/b1s3v4BV+qCNYyXD5wAAAAASUVORK5CYII="},null,-1),ye={class:"code absolute w-180 p-20"},we={key:0,class:"flex justify-between"},he=f("img",{class:"copy",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJkSURBVHgBtZfbUdtAFIb/3Tjw6lcCzMgVxFQQqCChApwKIBUAFSQd4FRgXAFOBbgDNMMtj3qNJ9bhPyuMsBHSrix9M5qRvOvds+e+Br7cSBcfMYDBZ371+UR8us+jMX+PkWIKwRi7ZuK7rKmccSv7+IBTLrwPf2I+E8xwjp6JUUsAPfEGfvJtgPrEsBhiy5wjSIA76XNkhEzN62OojX/4XqSNtwI8yhFtOUTzxDTJwaoQywKovS2u0B5vhLAvQ48S8esC7RJhc3mPXABxAxGqiTHHIef/4HuCUDSaHuRk8ZmZ4E40vv1OnzK0ds2Ze1etpc5kEcJIaIoeTZHYZzFOUYcto2F2wP9fIowuOnBasM7x1gk3FeKTOXSaCcHiWHON5csRmkDNIox1f79QLfTVBH00xY4Z8kB7yFKxD98s8oLih6k4oZpkRiF8/MLiS3UxWodbOeMmZQ6etCuAhxAWbWPpmiW0q4G/csys+atkRtLBvdwgJA9oqKm3l6G9xCbVPsdJxVrTDkKRCmGz9DzivOrwZhtnOXmMptCsmuIavrlljrE6YWgeL0btnfUSvnkloQAT6zpYbZnqova+l4sKZyviMq+GKX4H/DE/odp7w516gFBmWfHKw/BBrjxb75jztCHpUuUjhKZy5VVPkQuQee91rQXDiLFteouPPBNqEUl5srY316b0FcupWB0yq+ntbV7ali9o+mIC3hln1G7BxaS4GO2Yqev1JCg6ikicw22bvffuiNXFSLUB5nQT1LolLrT/MzfUvpyuolEyZ5gafHX1wKxcz4WbCv7wmWiG0yTjs+wT0RfOEwON0UwAAAAASUVORK5CYII="},null,-1),ke={key:1},Ie={class:"flex justify-between"},ge={key:0};h();const Be=ae(((e,t)=>{const a=k("Image"),l=k("a-button"),i=k("Favour"),s=k("QRcode"),n=k("container"),o=k("PieceModal"),r=k("BuyModal");return c(),u(P,null,[f(n,{class:"detail flex flex-wrap"},{default:ae((()=>[f("div",le,[f("div",ie,[e.isPiece?(c(),u("img",{key:0,src:e.state.nftDetail.activityImage,class:"w-full"},null,8,["src"])):(c(),u(a,{key:1,src:e.state.nftDetail.image},null,8,["src"])),e.isPiece?(c(),u("div",se)):O("",!0),e.isPiece?(c(),u("div",ne,[f(a,{src:e.state.nftDetail.image,alt:e.state.nftDetail.name,class:"piece"},null,8,["src","alt"]),oe])):O("",!0)])]),f("ul",re,[f("li",null,[f("label",null,B(e.$t("market.detailName")),1),f("h2",ce,B(e.state.nftDetail.name),1)]),f("li",null,[f("label",null,B(e.$t("market.detailAuthor")),1),f("h3",null,B(e.state.nftDetail.authorName),1)]),f("li",null,[f("label",null,B(e.$t("market.detailPrice")),1),f("p",ue,[f("span",de,B(e.state.nftDetail.price),1),pe])]),f("li",fe,[f("div",Ae,[f(l,{type:"primary",class:"mr-20",onClick:e.handleShowByModal},{default:ae((()=>[g(B(e.isOwner?e.$t("market.detailSale"):e.$t("market.detailBuy")),1)])),_:1},8,["onClick"])]),f(i,{class:"mr-20",nftId:e.state.nftDetail.id,followType:e.state.nftDetail.followType,"onUpdate:followType":t[1]||(t[1]=t=>e.state.nftDetail.followType=t)},null,8,["nftId","followType"]),me,f("a",ve,[be,f("div",ye,[f(s,{text:e.fullPath,class:"mb-20"},null,8,["text"]),f("p",null,B(e.$t("market.detailShare")),1)])])]),f("li",null,[f("label",null,B(e.$t("market.detailId")),1),e.state.nftDetail.nftId?(c(),u("div",we,[f("p",null,B(e.state.nftDetail.nftId),1),f("a",{onClick:t[2]||(t[2]=()=>e.linkToBcs(e.state.nftDetail.bscAddress)),class:"flex-shrink-0 ml-12"},[he])])):(c(),u("p",ke,B(e.$t("market.chainTip")),1))]),f("li",null,[f("label",null,B(e.$t("market.detailInfo")),1),f("div",Ie,[f("p",null,[g(B(e.state.nftDetail.length)+" x "+B(e.state.nftDetail.width)+" px.IMAGE ",1),e.state.nftDetail.size?(c(),u("span",ge,"("+B(e.state.nftDetail.size)+"KB)",1)):O("",!0)]),e.isPiece?(c(),u(l,{key:0,class:"full",type:"link",onClick:e.handleShowFull},{default:ae((()=>[g(B(e.$t("market.detailShowFull")),1)])),_:1},8,["onClick"])):O("",!0)])]),f("li",null,[f("label",null,B(e.$t("market.detailDescription")),1),f("p",{class:[e.state.isHide?"content-hide":"","descrition"]},[g(B(e.state.nftDetail.introduction)+" ",1),e.state.introduction.length>30?(c(),u("span",{key:0,onClick:t[3]||(t[3]=(...t)=>e.changeHide&&e.changeHide(...t)),class:"p-span"},B(e.state.isHide?e.$t("market.open"):e.$t("market.stop")),1)):O("",!0)],2)]),f("li",null,[f("label",null,B(e.$t("market.detailAuthorInfo")),1),f("p",null,B(e.state.nftDetail.authorDesc),1)])])])),_:1}),f(o,{ref:"pieceRef",pieceInfo:e.state.pieceInfo},null,8,["pieceInfo"]),f(r,{visible:e.state.isBuyVisible,"onUpdate:visible":t[4]||(t[4]=t=>e.state.isBuyVisible=t),isOwner:e.isOwner},null,8,["visible","isOwner"])],64)}));te.render=Be,te.__scopeId="data-v-5a76cc72";export default te;
